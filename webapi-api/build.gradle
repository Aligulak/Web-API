plugins {
    id "org.spongepowered.plugin" version "0.8.1"
}

apply plugin: "com.github.johnrengelman.shadow"

shadowJar {
    configurations  = [project.configurations.compile]

    relocate "com.fasterxml", "valandur.webapi.shadow.com.fasterxml"
    relocate "javax.servlet", "valandur.webapi.shadow.javax.servlet"
    relocate "org.eclipse", "valandur.webapi.shadow.org.eclipse"

    exclude "/about.html"
    exclude "/jetty-dir.css"

    archiveName = "webapi-api-${version}.jar"
}

artifacts {
    archives shadowJar
}

build.dependsOn(shadowJar)
