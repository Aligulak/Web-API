plugins {
    id "java"
    id "com.qixalite.spongestart" version "1.6.0"
}

repositories {
    mavenCentral()
    maven {
        url 'https://repo.spongepowered.org/maven/'
    }
}

spongestart {
    eula true
    minecraft project.minecraftVersion
}

dependencies {
    compileOnly group: 'org.spongepowered', name: 'spongeapi', version: project.spongeVersion
    compile group: 'org.eclipse.jetty', name: 'jetty-server', version: '9.4.0.v20161208'
    compile group: 'org.eclipse.jetty', name: 'jetty-servlet', version: '9.4.0.v20161208'
    compile group: 'org.eclipse.jetty', name: 'jetty-http', version: '9.4.0.v20161208'
}

jar {
    version = "${project.pluginVersion}-sponge-${project.spongeVersion}"

    // Include all compile time dependencies in the jar (e.g. Jetty)
    // Sponge is declared compileOnly so that it doesn't get included here
    from configurations.compile.collect {
        zipTree(it)
    }

    // Exclude signature files from JARs
    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'
}
